<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>Vortex Library, BEEP Core implementation, RFC 3080 / RFC 3081, XML-RPC, XML-RPC over BEEP, RFC 3529, BEEP Framework, BEEP protocol, BEEP, BEEP library, BEEP libraries, beepcore (Servidores Linux http://www.aspl.es)</title>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-123192-2";
urchinTracker();
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="vortex.css" rel="stylesheet" type="text/css">
</head>
  <body>
    <div class="af-arch-header">
     <img src="main-page-logo.png" > <a href="http://www.aspl.es"><img class="aspl-logo-header" src="aspl-logo-header.png"></a>
    </div>
    <div class="ads">
    <iframe src="http://www.aspl.es/web-ads/index.php?hcolor=fdff4f&amp;fsize=10&amp;bg=555753&amp;fg=ffffff&amp;width=800&amp;height=90" scrolling="no" frameborder="0"></iframe> 
    </div>
    <div class="separator">
    </div>
<div class="thepage">

<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">
  <div class="navpath"><a class="el" href="group__vortex__tls.html">Vortex TLS: TLS profile support and related functions</a>
  </div>
<table cellspacing="0" cellpadding="0" border="0">
  <tr>
   <td valign="top">
      <div class="navtab">
        <table>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__tls_ga331c84ef581a5652b90d025f565fc633.html#ga331c84ef581a5652b90d025f565fc633">vortex_tls_accept_negotiation</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__tls_ga3333fb271a38fe9fa6bde72a47deccfc.html#ga3333fb271a38fe9fa6bde72a47deccfc">vortex_tls_get_digest</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__tls_ga7a93953a5d4f750040ebc24cc2aca8a0.html#ga7a93953a5d4f750040ebc24cc2aca8a0">vortex_tls_get_digest_sized</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__tls_ga9b73730de9a02f7c372910bf16361bb3.html#ga9b73730de9a02f7c372910bf16361bb3">vortex_tls_get_peer_ssl_digest</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__tls_ga14acd185722a0821d1153a511b54e7b5.html#ga14acd185722a0821d1153a511b54e7b5">vortex_tls_get_ssl_object</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__tls_ga437e95cdf7763fb117b5668e0a5998bc.html#ga437e95cdf7763fb117b5668e0a5998bc">vortex_tls_init</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__tls_gac686a001db0e2a27f488d404261ca921.html#gac686a001db0e2a27f488d404261ca921">VORTEX_TLS_PROFILE_URI</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__tls_ga014ec55475b39014206886dd00ef9e86.html#ga014ec55475b39014206886dd00ef9e86">vortex_tls_set_auto_tls</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__tls_ga60ee5a26cd2bcc0a1cda121e82bf1fc9.html#ga60ee5a26cd2bcc0a1cda121e82bf1fc9">vortex_tls_set_common_data</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__tls_ga00461d1d4c09f208867c0f89ab359cc9.html#ga00461d1d4c09f208867c0f89ab359cc9">vortex_tls_set_ctx_creation</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__tls_ga475b9d8efa81271d784091b21d165830.html#ga475b9d8efa81271d784091b21d165830">vortex_tls_set_default_ctx_creation</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__tls_ga1a205361f9d943a8e38383c654ea0a97.html#ga1a205361f9d943a8e38383c654ea0a97">vortex_tls_set_default_post_check</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__tls_ga2a385fd98f066f6856391084ffcfbba8.html#ga2a385fd98f066f6856391084ffcfbba8">vortex_tls_set_post_check</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__tls_gaa1e4243a5e9de386d8230edafcfad021.html#gaa1e4243a5e9de386d8230edafcfad021">vortex_tls_start_negotiation</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__tls_ga788893a3196af18fe71dd1a91f334d58.html#ga788893a3196af18fe71dd1a91f334d58">vortex_tls_start_negotiation_sync</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__tls_gae6204131aa6fe4aab9e0d571a382932d.html#gae6204131aa6fe4aab9e0d571a382932d">VortexDigestMethod</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__tls_ga7aa743e27ab17360a2446678b8a92344.html#ga7aa743e27ab17360a2446678b8a92344">VortexTlsAcceptQuery</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__tls_ga9d30465b906d99b8673c2059ace1b31d.html#ga9d30465b906d99b8673c2059ace1b31d">VortexTlsActivation</a></td></tr>
          <tr><td class="navtab"><a class="qindexHL" href="group__vortex__tls_ga3ab0af63b6d2b2ecdf48443220baba24.html#ga3ab0af63b6d2b2ecdf48443220baba24">VortexTlsCertificateFileLocator</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__tls_ga95cb6046ad10727a9df7cca75b6ef2dc.html#ga95cb6046ad10727a9df7cca75b6ef2dc">VortexTlsCtxCreation</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__tls_ga6592b4f853286e59d02d180884d79283.html#ga6592b4f853286e59d02d180884d79283">VortexTlsPostCheck</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__tls_ga233882f24b0caaffd07da52f6595d38c.html#ga233882f24b0caaffd07da52f6595d38c">VortexTlsPrivateKeyFileLocator</a></td></tr>
        </table>
      </div>
   </td>
   <td valign="top">
<a class="anchor" id="ga3ab0af63b6d2b2ecdf48443220baba24"></a><!-- doxytag: member="vortex_tls.h::VortexTlsCertificateFileLocator" ref="ga3ab0af63b6d2b2ecdf48443220baba24" args=")(VortexConnection *connection, const char *serverName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef char*(*  <a class="el" href="group__vortex__tls_ga3ab0af63b6d2b2ecdf48443220baba24.html#ga3ab0af63b6d2b2ecdf48443220baba24">VortexTlsCertificateFileLocator</a>)(<a class="el" href="group__vortex__types_gac16883b703d1e546d54108153d4060b4.html#gac16883b703d1e546d54108153d4060b4">VortexConnection</a> *connection, const char *serverName)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handler definition for those function allowing to locate the certificate file to be used while enabling TLS support. </p>
<p>Once a TLS negotiation is started two files are required to enable TLS cyphering: the certificate and the private key. Two handlers are used by the Vortex Library to allow user app level to configure file locations for both files.</p>
<p>This handler is used to configure location for the certificate file. The function will receive the connection where the TLS is being request to be activated and the serverName value which hold a optional host name value requesting to act as the server configured by this value.</p>
<p>The function must return a path to the certificate using a dynamically allocated value. Once finished, Vortex Library will unref it.</p>
<p><b>The function should return a basename file avoiding full path file names</b>. This is because the Vortex Library will use <a class="el" href="group__vortex__support_ga8777201f869012c0fe42c827432c5e44.html#ga8777201f869012c0fe42c827432c5e44">vortex_support_find_data_file</a> function to locate the file provided. That function is configured to lookup on the configured search path provided by <a class="el" href="group__vortex__support_gaa0b429806fda35bdddcf7b9633294c49.html#gaa0b429806fda35bdddcf7b9633294c49">vortex_support_add_search_path</a> or <a class="el" href="group__vortex__support_ga9b9767d408fd3db50552265439f13d10.html#ga9b9767d408fd3db50552265439f13d10">vortex_support_add_search_path_ref</a>.</p>
<p>As a consequence:</p>
<ul>
<li>If all certificate files are located at <b>/etc/repository/certificates</b> and the <b>serverName.cert</b> is to be used <b>DO NOT</b> return on this function <b>/etc/repository/certificates/serverName.cert</b></li>
</ul>
<ul>
<li>Instead, configure <b>/etc/repository/certificates</b> at <a class="el" href="group__vortex__support_gaa0b429806fda35bdddcf7b9633294c49.html#gaa0b429806fda35bdddcf7b9633294c49">vortex_support_add_search_path</a> and return <b>servername.cert</b>.</li>
</ul>
<ul>
<li>Doing previous practice will allow your code to be as platform/directory-structure independent as possible. The same function works on every installation, the only question to be configured are the search paths to lookup.</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>connection</em>&nbsp;</td><td>The connection where the TLS negotiation was received.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>serverName</em>&nbsp;</td><td>An optional value requesting to act as the server <b>serverName</b>. This value is supposed to be used to select the right certificate file (according to the common value stored on it).</td></tr>
  </table>
  </dd>
</dl>
<p>This handler is used by:</p>
<ul>
<li><a class="el" href="group__vortex__tls_ga331c84ef581a5652b90d025f565fc633.html#ga331c84ef581a5652b90d025f565fc633">vortex_tls_accept_negotiation</a></li>
</ul>
<dl class="return"><dt><b>Returns:</b></dt><dd>A newly allocated value containing the path to the certificate file. </dd></dl>

</div>
</div>
    </td>
  </tr>
</table>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
<div class="lateral-ad">
  <iframe src="http://www.aspl.es/web-ads/index.php?hcolor=fdff4f&amp;fsize=10&amp;bg=555753&amp;fg=ffffff&amp;width=150&amp;type=vertical" height="420" align="middle" width="100%" scrolling="no" frameborder="0"></iframe>
</div>
<div class="footer">
<small>Vortex Library:  A BEEP (RFC3080/RFC3081) implementation. &nbsp; Copyright 2008 (C) Advanced Software Production Line, S.L.</small>
</div>
</body>
</html>

