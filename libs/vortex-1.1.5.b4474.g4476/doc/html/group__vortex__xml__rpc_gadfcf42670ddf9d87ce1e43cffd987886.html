<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>Vortex Library, BEEP Core implementation, RFC 3080 / RFC 3081, XML-RPC, XML-RPC over BEEP, RFC 3529, BEEP Framework, BEEP protocol, BEEP, BEEP library, BEEP libraries, beepcore (Servidores Linux http://www.aspl.es)</title>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-123192-2";
urchinTracker();
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="vortex.css" rel="stylesheet" type="text/css">
</head>
  <body>
    <div class="af-arch-header">
     <img src="main-page-logo.png" > <a href="http://www.aspl.es"><img class="aspl-logo-header" src="aspl-logo-header.png"></a>
    </div>
    <div class="ads">
    <iframe src="http://www.aspl.es/web-ads/index.php?hcolor=fdff4f&amp;fsize=10&amp;bg=555753&amp;fg=ffffff&amp;width=800&amp;height=90" scrolling="no" frameborder="0"></iframe> 
    </div>
    <div class="separator">
    </div>
<div class="thepage">

<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">
  <div class="navpath"><a class="el" href="group__vortex__xml__rpc.html">Vortex XML-RPC: XML-RPC profile support and related functions</a>
  </div>
<table cellspacing="0" cellpadding="0" border="0">
  <tr>
   <td valign="top">
      <div class="navtab">
        <table>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_ga92b15e4f7bed65245da0619a5ff1e3cf.html#ga92b15e4f7bed65245da0619a5ff1e3cf">BOOT_CHANNEL</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_gac9bf811d07fc42beb4dac8bbb338e6ec.html#gac9bf811d07fc42beb4dac8bbb338e6ec">vortex_xml_rpc_accept_negotiation</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_gad8eed31174fe5920a5fb7abf1c167e01.html#gad8eed31174fe5920a5fb7abf1c167e01">vortex_xml_rpc_boot_channel</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_gaa2040e191f21955507699049341ee15c.html#gaa2040e191f21955507699049341ee15c">vortex_xml_rpc_boot_channel_sync</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_gaf6f21429f0bcd28f7fb169cc510c79a9.html#gaf6f21429f0bcd28f7fb169cc510c79a9">vortex_xml_rpc_channel_get_resource</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_gae4f5c834346a4ee6b203b80f751c826b.html#gae4f5c834346a4ee6b203b80f751c826b">vortex_xml_rpc_channel_pool_get_next</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_ga780a5d4010e4b12d1ea66808b18b28f7.html#ga780a5d4010e4b12d1ea66808b18b28f7">vortex_xml_rpc_channel_status</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_ga4b0ae48adce8343728f624aaf49db42c.html#ga4b0ae48adce8343728f624aaf49db42c">vortex_xml_rpc_cleanup</a></td></tr>
          <tr><td class="navtab"><a class="qindexHL" href="group__vortex__xml__rpc_gadfcf42670ddf9d87ce1e43cffd987886.html#gadfcf42670ddf9d87ce1e43cffd987886">vortex_xml_rpc_create_channel_pool</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_ga5060db23d0539d4a39024e0e0c024a3c.html#ga5060db23d0539d4a39024e0e0c024a3c">vortex_xml_rpc_init</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_gaa6eddcc6c70ee52a5d049c44c3a84c15.html#gaa6eddcc6c70ee52a5d049c44c3a84c15">vortex_xml_rpc_invoke</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_ga559973d5a56be88f09d3eeb86accd218.html#ga559973d5a56be88f09d3eeb86accd218">vortex_xml_rpc_invoke_sync</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_ga141f74bc63f66d0fddd4f4e9ef8fe718.html#ga141f74bc63f66d0fddd4f4e9ef8fe718">vortex_xml_rpc_listener_parse_conf_and_start_listeners</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_ga88e20e6230c1989419328c08f6b779cb.html#ga88e20e6230c1989419328c08f6b779cb">vortex_xml_rpc_notify_reply</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_ga895f82a16bef069fd478b64a96167736.html#ga895f82a16bef069fd478b64a96167736">VORTEX_XML_RPC_PROFILE</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_gafc1a2eee14fcd5cf74eea05a4834c190.html#gafc1a2eee14fcd5cf74eea05a4834c190">vortex_xml_rpc_unmarshall_array</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_ga406fb485a2d118912dcad0b545a8714d.html#ga406fb485a2d118912dcad0b545a8714d">vortex_xml_rpc_unmarshall_array_sync</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_ga0b69cb36d49a827c083db44d713eb53d.html#ga0b69cb36d49a827c083db44d713eb53d">vortex_xml_rpc_unmarshall_double</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_ga8140928529aaed3c1f44462560c5ef66.html#ga8140928529aaed3c1f44462560c5ef66">vortex_xml_rpc_unmarshall_double_sync</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_gaec1333688301b835d4c0bb2b863efd41.html#gaec1333688301b835d4c0bb2b863efd41">vortex_xml_rpc_unmarshall_int</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_ga26e30e5010d8c939f9975b26524b7f4e.html#ga26e30e5010d8c939f9975b26524b7f4e">vortex_xml_rpc_unmarshall_int_sync</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_gadca2833926fa2cc07a5ad40a9748001b.html#gadca2833926fa2cc07a5ad40a9748001b">vortex_xml_rpc_unmarshall_string</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_ga9e3eed742f7eef6999bc9b15aa49ebfc.html#ga9e3eed742f7eef6999bc9b15aa49ebfc">vortex_xml_rpc_unmarshall_string_sync</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_ga16ad3ced2c4a2f6d7030d3a680c274d6.html#ga16ad3ced2c4a2f6d7030d3a680c274d6">vortex_xml_rpc_unmarshall_struct</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_ga93d045cfaa10dad387a08c0e537f3972.html#ga93d045cfaa10dad387a08c0e537f3972">vortex_xml_rpc_unmarshall_struct_sync</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_ga7569f01a1e7f87ae4aceac23189e1877.html#ga7569f01a1e7f87ae4aceac23189e1877">VortexXmlRpcBootNotify</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_ga430cc7a9c84542ed680883355617bf79.html#ga430cc7a9c84542ed680883355617bf79">VortexXmlRpcServiceDispatch</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_ga5820ceaf66c0827c0bf332d7e0c072a6.html#ga5820ceaf66c0827c0bf332d7e0c072a6">VortexXmlRpcState</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_gaa4200cc2dfd02845f16ad819389391ae.html#gaa4200cc2dfd02845f16ad819389391ae">VortexXmlRpcValidateResource</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_gabf3dc4aa7cd433f8fb1712313c21062c.html#gabf3dc4aa7cd433f8fb1712313c21062c">XML_RPC_BOOT_STATE</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_gab9051655ba361781a48036f5fab8dedf.html#gab9051655ba361781a48036f5fab8dedf">XML_RPC_RESOURCE</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__vortex__xml__rpc_ga518378c728633e41c14fd07896f3f36c.html#ga518378c728633e41c14fd07896f3f36c">XmlRpcInvokeNotify</a></td></tr>
        </table>
      </div>
   </td>
   <td valign="top">
<a class="anchor" id="gadfcf42670ddf9d87ce1e43cffd987886"></a><!-- doxytag: member="vortex_xml_rpc.c::vortex_xml_rpc_create_channel_pool" ref="gadfcf42670ddf9d87ce1e43cffd987886" args="(VortexConnection *connection, const char *serverName, const char *resourceName, VortexOnChannelPoolCreated on_pool_created, axlPointer user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__vortex__types_ga8335cf8b240d5f8a6ae9407a3c050bbf.html#ga8335cf8b240d5f8a6ae9407a3c050bbf">VortexChannelPool</a> * vortex_xml_rpc_create_channel_pool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__vortex__types_gac16883b703d1e546d54108153d4060b4.html#gac16883b703d1e546d54108153d4060b4">VortexConnection</a> *&nbsp;</td>
          <td class="paramname"> <em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>serverName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>resourceName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__vortex__handlers_ga5698fedfcb3894332913327b677e4571.html#ga5698fedfcb3894332913327b677e4571">VortexOnChannelPoolCreated</a>&nbsp;</td>
          <td class="paramname"> <em>on_pool_created</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">axlPointer&nbsp;</td>
          <td class="paramname"> <em>user_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allows to create and attach a channel pool containing XML-RPC channels that are created using the provided serverName and resourceName value. </p>
<p>An efficient alternative to create a XML-RPC channel (<a class="el" href="group__vortex__xml__rpc_gad8eed31174fe5920a5fb7abf1c167e01.html#gad8eed31174fe5920a5fb7abf1c167e01">vortex_xml_rpc_boot_channel</a>), perform the invocation (<a class="el" href="group__vortex__xml__rpc_gaa6eddcc6c70ee52a5d049c44c3a84c15.html#gaa6eddcc6c70ee52a5d049c44c3a84c15">vortex_xml_rpc_invoke</a>), and then release the channel (automatically done by the invocation API) is to use a channel pool.</p>
<p>The channel pool maintains a set of channels available to be used, and them are reused across invocations. In the case more channels are required, the channel pool automatically negotiate them for you.</p>
<p>The idea is to create a channel pool (you can create several channel pools on the channel connection) using the function, making all channels inside the pool created to use the serverName and the resourceName value provided.</p>
<div class="fragment"><pre class="fragment"> <span class="keywordtype">void</span> create_pool () {
   <a class="code" href="group__vortex__types_ga8335cf8b240d5f8a6ae9407a3c050bbf.html#ga8335cf8b240d5f8a6ae9407a3c050bbf" title="Vortex Channel Pool definition.">VortexChannelPool</a> * pool;
  
   <span class="comment">// create a pool that uses as resource &quot;/API/v1.0&quot;</span>
   pool = <a class="code" href="group__vortex__xml__rpc_gadfcf42670ddf9d87ce1e43cffd987886.html#gadfcf42670ddf9d87ce1e43cffd987886" title="Allows to create and attach a channel pool containing XML-RPC channels that are created...">vortex_xml_rpc_create_channel_pool</a> (connection, 
                                              <span class="comment">// no server name value </span>
                                              NULL, 
                                              <span class="comment">// resource value</span>
                                              <span class="stringliteral">&quot;/API/v1.0&quot;</span>,
                                              <span class="comment">// no pool creation notify</span>
                                              NULL, NULL);
 }
</pre></div><p>Later in your code, if you require a XML-RPC channel to perform an invocation, you get it from the channel pool:</p>
<div class="fragment"><pre class="fragment"> <span class="keywordtype">void</span> invoke (<a class="code" href="group__vortex__xml__rpc__types_ga9a8681c7f146e5a94f9745739e4806cb.html#ga9a8681c7f146e5a94f9745739e4806cb" title="Represents an abstraction of a remote procedure invocation.">XmlRpcMethodCall</a> * invocator) {
   <a class="code" href="group__vortex__types_ga9dab9d627d67bfc4cccf2687725ee60f.html#ga9dab9d627d67bfc4cccf2687725ee60f" title="A Vortex Channel object.">VortexChannel</a>        * channel;
   <a class="code" href="group__vortex__xml__rpc__types_gaed50561e9b2028aaca8e74c54e2c5bbb.html#gaed50561e9b2028aaca8e74c54e2c5bbb" title="Abstraction to represent a method response object.">XmlRpcMethodResponse</a> * response;

   <span class="comment">// get a channel (creating it if not available, using default pool: 1)</span>
   channel = <a class="code" href="group__vortex__xml__rpc_gae4f5c834346a4ee6b203b80f751c826b.html#gae4f5c834346a4ee6b203b80f751c826b" title="Allows to get next channel ready on the channel pool created on the connection provided...">vortex_xml_rpc_channel_pool_get_next</a> (connection, axl_true, 1);
 
   <span class="comment">// now perform the invocation</span>
   response = <a class="code" href="group__vortex__xml__rpc_ga559973d5a56be88f09d3eeb86accd218.html#ga559973d5a56be88f09d3eeb86accd218" title="Perform a synchronous XML-RPC invocation using a method call already built over an...">vortex_xml_rpc_invoke_sync</a> (channel, invocator);

   <span class="comment">// some something with the reply</span>

   <span class="comment">// the channel is not required to be released by calling to</span>
   <span class="comment">// vortex_channel_pool_release_channel because it is already done</span>
   <span class="comment">// by the invocation API: vortex_xml_rpc_invoke (_sync)</span>
 }
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>connection</em>&nbsp;</td><td>The connection where the channel pool is created.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>serverName</em>&nbsp;</td><td>The serverName value to be used while creating more channels in the pool.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>resourceName</em>&nbsp;</td><td>The resource value to be used while creating more channel in the pool.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>on_pool_created</em>&nbsp;</td><td>The channel pool created notification. See handler documentation. If the handler is provided, the function will return NULL and the channel pool reference created will be received at the handler notification.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>User defined data to be passed in to the on_pool_created handler.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A newly created <a class="el" href="group__vortex__types_ga8335cf8b240d5f8a6ae9407a3c050bbf.html#ga8335cf8b240d5f8a6ae9407a3c050bbf">VortexChannelPool</a> or NULL if it fails or a channel pool created notification was received. </dd></dl>

</div>
</div>
    </td>
  </tr>
</table>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
<div class="lateral-ad">
  <iframe src="http://www.aspl.es/web-ads/index.php?hcolor=fdff4f&amp;fsize=10&amp;bg=555753&amp;fg=ffffff&amp;width=150&amp;type=vertical" height="420" align="middle" width="100%" scrolling="no" frameborder="0"></iframe>
</div>
<div class="footer">
<small>Vortex Library:  A BEEP (RFC3080/RFC3081) implementation. &nbsp; Copyright 2008 (C) Advanced Software Production Line, S.L.</small>
</div>
</body>
</html>

